---
SUITES:
  - suite: "helm"
    platforms:
      - labels: "ubuntu-18.04"
    scenarios:
      - name: "APM Server"
        tags: "apm-server"
      - name: "Filebeat"
        tags: "filebeat"
      - name: "Metricbeat"
        tags: "metricbeat"
  - suite: "fleet"
    platforms:
      - labels: "arm64"
      - labels: "ubuntu-18.04"
        provider: "elastic-package"
    scenarios:
      - name: "Fleet"
        pullRequestFilter: " && ~debian"
        tags: "fleet_mode_agent"
        platforms:
          - labels: "arm64"
          - labels: "amd64"
      - name: "Integrations"
        pullRequestFilter: " && ~debian"
        tags: "integrations"
        platforms:
          - labels: "arm64"
          - labels: "amd64"
      - name: "APM Integration"
        pullRequestFilter: " && ~debian"
        tags: "apm_server"
        platforms:
          - labels: "arm64"
          - labels: "amd64"
      - name: "Linux Integration"
        pullRequestFilter: " && ~debian"
        tags: "linux_integration"
        platforms:
          - labels: "arm64"
          - labels: "amd64"
      - name: "Permissions Output change"
        pullRequestFilter: " && ~debian"
        tags: "permission_change"
        platforms:
          - labels: "arm64"
          - labels: "amd64"
      - name: "Policies"
        pullRequestFilter: " && ~debian"
        tags: "policies"
        platforms:
          - labels: "arm64"
          - labels: "amd64"
      - name: "System Integration"
        pullRequestFilter: " && ~debian"
        tags: "system_integration"
        platforms:
          - labels: "arm64"
          - labels: "amd64"
      - name: "Stand-alone"
        pullRequestFilter: " && ~ubi8"
        tags: "stand_alone_agent"
        platforms:
          - labels: "arm64"
          - labels: "amd64"
          # - labels: "ubuntu-18.04"
          #   provider: "elastic-package"
      - name: "Backend Processes"
        pullRequestFilter: " && ~debian"
        tags: "backend_processes"
        platforms:
          - labels: "arm64"
          - labels: "amd64"
      - name: "Beats Background Processes"
        pullRequestFilter: " && ~debian"
        tags: "running_on_beats"
        platforms:
          - labels: "arm64"
          - labels: "amd64"
      - name: "Preconfigured Policies"
        pullRequestFilter: " && ~debian"
        tags: "preconfigured_policies"
        platforms:
          - labels: "arm64"
          - labels: "amd64"
  - suite: "kubernetes-autodiscover"
    platforms:
      - labels: "ubuntu-18.04"
    scenarios:
      - name: "kubernetes autodiscover with elastic-agent"
        tags: "kubernetes-autodiscover && elastic-agent"
      - name: "kubernetes autodiscover with filebeat"
        tags: "kubernetes-autodiscover && filebeat"
      - name: "kubernetes autodiscover with heartbeat"
        tags: "kubernetes-autodiscover && heartbeat"
      - name: "kubernetes autodiscover with metricbeat"
        tags: "kubernetes-autodiscover && metricbeat"
